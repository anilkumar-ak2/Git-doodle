utility functions for version 3
changes made to post
